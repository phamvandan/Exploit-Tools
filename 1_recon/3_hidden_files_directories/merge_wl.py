import os

# List of files and directories to merge
# file_paths = [
#     "./resources/fuzzing_dict/admin",
#     "./resources/fuzzing_dict/common",
#     "./resources/fuzzing_dict/local_files",
#     # "./resources/fuzzing_dict/api_endpoint"
# ]
file_paths = [
    "./resources/api_endpoints.txt",
    "./resources/fuzzing_dict/api_endpoint"
]
# Function to recursively get all text file paths in a directory
def get_text_file_paths(directory):
    text_file_paths = []
    for root, dirs, files in os.walk(directory):
        for file in files:
            if file.endswith(".txt"):
                text_file_paths.append(os.path.join(root, file))
    return text_file_paths


# Write merged content to a new file
with open("./resources/apis.txt", "w+") as merged_file:
    # Merge text files
    for path in file_paths:
        if os.path.isfile(path) and path.endswith(".txt"):
            with open(path, "r") as file:
                merged_file.writelines(file.readlines())
        elif os.path.isdir(path):
            text_files = get_text_file_paths(path)
            for file_path in text_files:
                with open(file_path, "r") as file:
                    merged_file.writelines(file.readlines())

print("Merged file created: merged_file.txt")
